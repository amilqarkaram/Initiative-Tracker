(this["webpackJsonpinitiative-tracker-production"]=this["webpackJsonpinitiative-tracker-production"]||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(15),s=n.n(a),i=(n(56),n(57),n(50)),o=n(4),d=n(12),l=(n(58),n(13)),j=n.n(l),u=n(21),b=n(37),h=n.n(b),m=n(104),x=n(22),O=n.n(x),f=n(0);var p=function(e){function t(t){e.handleDropdownClick(t.target.innerText)}return Object(f.jsxs)("div",{children:[console.log("lenght"+e.searchItems.length),e.searchItems.map((function(e){return Object(f.jsx)("button",{onClick:t,className:"areaOptions",children:Object(f.jsx)("p",{style:{zIndex:"1"},href:"#/action-1",children:e})})}))]})};var v=function(e){var t=c.a.useState({textInput:"",allMonsters:{},dropdownMonsters:[],readOnly:!0}),n=Object(d.a)(t,2),r=n[0],a=n[1];return c.a.useEffect((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,a((function(e){return Object(o.a)(Object(o.a)({},e),{},{readOnly:!1})}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O.a.get("/api/").then((function(t){(function(t){return e.apply(this,arguments)})(t).then((function(){console.log(t.data),a((function(e){return Object(o.a)(Object(o.a)({},e),{},{allMonsters:t.data})}))}))}))}),[]),c.a.useEffect((function(){var e=document.querySelector("textarea");function t(e){13===e.keyCode&&(e.preventDefault(),document.querySelector(".addButton").click())}return e.addEventListener("keyup",t),function(n){e.removeEventListener("keyup",t)}})),Object(f.jsxs)("div",{className:"divArea",children:[Object(f.jsx)("textarea",{placeholder:"Name + Initiative",rows:"1",className:"inputArea",value:r.textInput,onChange:function(t){""===t.target.value?a((function(e){return Object(o.a)(Object(o.a)({},e),{},{textInput:t.target.value,dropdownMonsters:[]})})):function(){var n=[],c=[],s=4;e.windowWidth>641&&e.windowWidth<1007&&(s=2);for(var i=[],d=0;d<r.allMonsters.length;++d)i.push(r.allMonsters[d].toLowerCase());for(var l=0;l<s;++l){var j=i.find((function(e,n){return e.includes(t.target.value.toLowerCase())&&!c.includes(e)}));c.push(j),n.push(r.allMonsters[i.indexOf(j)])}var u=n.filter((function(e){return void 0!==e}));a((function(e){return Object(o.a)(Object(o.a)({},e),{},{textInput:t.target.value,dropdownMonsters:u})}))}()},readOnly:r.readOnly}),Object(f.jsx)(m.a,{onClick:function(t){var n="",c="",s=r.textInput,i=!0;"will"===s.substring(0,4).toLowerCase()&&(n=s,i=!1);for(var d=0;d<s.length;++d)i&&(s.charCodeAt(d)>=65&&s.charCodeAt(d)<=122||32===s.charCodeAt(d)||44===s.charCodeAt(d))?n+=s.charAt(d):s.charCodeAt(d)>=48&&s.charCodeAt(d)<=57&&(c+=s.charAt(d));e.saveInfo(n,c),a((function(e){return Object(o.a)(Object(o.a)({},e),{},{textInput:""})}))},className:"addButton",children:Object(f.jsx)(h.a,{})}),Object(f.jsx)(p,{handleDropdownClick:function(t){function n(){return(n=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a((function(e){return Object(o.a)(Object(o.a)({},e),{},{textInput:t})})),O.a.get("/api/"+t).then((function(t){(function(e){return n.apply(this,arguments)})(t.data).then((function(){e.saveMonsterInfo(t.data)}))})),document.querySelector("textarea").focus()},searchItems:r.dropdownMonsters})]})};var g=n(49),N=n.n(g),w=n(48),y=n.n(w);var k=function(e){var t=c.a.useState({index:e.index,count:e.count}),n=Object(d.a)(t,2),r=n[0],a=n[1];return c.a.useEffect((function(){a({index:e.index,count:e.count}),console.log("character card rendered")}),[e.index,e.count]),Object(f.jsxs)("div",{className:"areaCard","data-id":e.card.charName,id:e.index,children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:"profile-pic",onClick:e.handleClick,src:"images/man-profile-cartoon_18591-58482.jpg",alt:"Profile Pic","data-id":e.card.charName,"data-initiative":e.card.charInitiative})}),Object(f.jsx)("div",{onClick:e.handleClick,className:"areaText",children:Object(f.jsxs)("p",{onClick:e.handleClick,"data-id":e.card.charName,children:["Name: ",e.card.charName," ",Object(f.jsx)("br",{}),"Initiative: ",e.card.charInitiative]})}),r.index===e.count-1?Object(f.jsx)(y.a,{style:{position:"absolute",right:"0",margin:"auto",top:"0",bottom:"30"},color:"black",fontSize:"large"}):"",Object(f.jsx)(m.a,{style:{position:"absolute",right:"0",margin:"auto",top:"20",bottom:"0"},onClick:function(){e.deleteInfo(e.card.charName,e.card.charInitiative)},className:"addButton",children:Object(f.jsx)(N.a,{})})]})};var I=function(e){var t=c.a.useState({cards:[],count:0}),n=Object(d.a)(t,2),r=n[0],a=n[1];function s(t){a((function(e){return Object(o.a)(Object(o.a)({},e),{},{count:0})})),e.renderMonster(t.target.getAttribute("data-id"),t.target.getAttribute("data-initiative"))}function i(t,n){a((function(e){var r=[];return void 0!==e.cards&&(r=e.cards.filter((function(e){return e.charName!==t||e.charInitiative!==n})),console.log(e.cards),e.cards.sort((function(e,t){return t.charInitiative-e.charInitiative}))),{cards:r,count:0}})),e.removeMonster(t)}return Object(f.jsxs)("div",{id:"engineContainer",children:[Object(f.jsx)("div",{className:"createCharacterSpacing",children:Object(f.jsx)(v,{windowWidth:e.windowWidth,saveMonsterInfo:e.saveMonsterInfo,saveInfo:function(t,n){function r(){return(r=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a((function(e){return void 0!==e.cards&&(e.cards.push({charName:t,charInitiative:n}),e.cards.sort((function(e,t){return t.charInitiative-e.charInitiative}))),{cards:e.cards,count:0}})),""===t&&(t="nobody"),O.a.get("/api/"+t).then((function(t){(function(e){return r.apply(this,arguments)})(t.data).then((function(){e.saveMonsterInfo(t.data)}))}))}})}),Object(f.jsxs)("div",{className:"spacing",children:[void 0!==r.cards?r.cards.map((function(e,t){return Object(f.jsx)("div",{className:"characterCardSpacing","data-remove":"hello",children:Object(f.jsx)(k,{count:r.count,index:t,card:e,deleteInfo:i,handleClick:s},t)})})):"",0!==r.cards.length?Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{id:"run",onClick:function(e){a((function(e){var t=e.count;return++t>r.cards.length&&(t=r.cards.length),console.log("new count: "+t),Object(o.a)(Object(o.a)({},e),{},{count:t})}))},className:"runButton btn btn-dark",children:"Next"}),Object(f.jsx)("button",{id:"back",onClick:function(e){a((function(e){var t=e.count;return--t<1&&(t=1),console.log("new Count :"+t),Object(o.a)(Object(o.a)({},e),{},{count:t})}))},className:"backButton btn btn-dark",children:"Back"})]}):""]})]})},C=n(29),M=n(10),A=n(30);M.b.add(A.a);var S=function(e){return Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("div",{className:"innerHeader",children:[Object(f.jsx)(C.a,{icon:["fas","dice-d20"],className:"headerIcon"}),Object(f.jsxs)("h1",{className:"headerTextStyle",children:["Initiative Tracker ",Object(f.jsx)("p",{className:"devStage",children:"Alpha"})," "]})]})})};M.b.add(A.a);var T=function(e){return Object(f.jsx)("div",{className:"die",children:Object(f.jsxs)("button",{onMouseOver:function(e){document.getElementById("result").style.color="black"},onMouseOut:function(e){document.getElementById("result").style.color="#F5E5C9"},type:"button",id:"roll",onClick:function(e){var t=document.getElementById("roll");t.classList.add("clicked"),setTimeout((function(){var e=document.getElementById("result");e.textContent="",e.removeAttribute("class");var n=Math.floor(20*Math.random())+1;n%10===n?(e.classList.add("oneDigit"),console.log("classList: "+e.classList)):(e.classList.add("twoDigit"),console.log("classList: "+e.classList));var r=n.toString(),c=document.createTextNode(r);e.appendChild(c),t.classList.remove("clicked")}),1e3)},children:[Object(f.jsx)(C.a,{icon:["fas","dice-d20"],className:"center dieIcon"}),Object(f.jsx)("h1",{id:"result",className:"twoDigit"})]})})};var E=function(e){var t=e.info;return console.log(t),Object(f.jsx)("div",{className:"monster",children:Object(f.jsxs)("div",{style:{overflowY:"scroll",overflowX:"hidden",border:"1px solid black",borderRadius:"30px",width:"300px",float:"left",height:"75vh",position:"relative",background:"#F5E5C9",boxShadow:"1px 1px 3px black",marginTop:"30px"},children:[Object(f.jsxs)("div",{className:"monsterHeader",children:[Object(f.jsx)("h1",{children:t.name}),Object(f.jsxs)("i",{children:[t.size," ",t.type,", ",t.alignment]})]}),Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsxs)("table",{className:"monsterTable",children:[Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Armor Class"})," ",t.armor_class]})})}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Hit Points"})," ",t.hit_points]})})}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Speed"})," ",t.speed.walk,",",void 0!==t.speed.swim?" swim "+t.speed.swim+",":"",void 0!==t.speed.climb?" climb "+t.speed.climb+",":""]})})})]}),Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsxs)("table",{className:"abilityScores",children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"STR"})}),Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"DEX"})}),Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"CONT"})}),Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"INT"})}),Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"WIS"})}),Object(f.jsx)("td",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"CHA"})})]}),Object(f.jsxs)("tr",{className:"stats",children:[Object(f.jsxs)("td",{children:[t.strength," (",t.strength<10?"-":"+",Math.floor((parseInt(t.strength)-10)/2),")"]}),Object(f.jsxs)("td",{children:[t.dexterity,"(",t.dexterity<10?"":"+",Math.floor((parseInt(t.dexterity)-10)/2),")"]}),Object(f.jsxs)("td",{children:[t.constitution,"(",t.constitution<10?"-":"+",Math.floor((parseInt(t.constitution)-10)/2),")"]}),Object(f.jsxs)("td",{children:[t.intelligence,"(",t.intelligence<10?"-":"+",Math.floor((parseInt(t.intelligence)-10)/2),")"]}),Object(f.jsxs)("td",{children:[t.wisdom,"(",t.wisdom<10?"-":"+",Math.floor((parseInt(t.wisdom)-10)/2),")"]}),Object(f.jsxs)("td",{children:[t.charisma,"(",t.charisma<10?"-":"+",Math.floor((parseInt(t.charisma)-10)/2),")"]})]})]}),Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsxs)("table",{children:[Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Challenge"})," ",t.challenge_rating," (",t.xp," XP)"]})})}),Object(f.jsx)("tr",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Saving Throws"})," ",t.savingThrows.map((function(e){return e+", "}))]})}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Skills"})," ",t.skills.map((function(e){return e+" "}))]})})}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Senses"})," ",Object.keys(t.senses).map((function(e,n){var r=e;return e.includes("_")&&(r=e.replace("_"," ")),r+": "+t.senses[e]+", "}))]})})}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Languages"})," ",t.languages]})})})]}),Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsxs)("table",{children:[Object(f.jsx)("th",{children:Object(f.jsx)("b",{children:void 0!==t.special_abilities?"Special Abilities":""})}),Object(f.jsx)("tr",{children:void 0!==t.special_abilities?t.special_abilities.map((function(e){return Object(f.jsxs)("p",{children:[Object(f.jsxs)("b",{children:[" ",e.name]})," ",e.desc,Object(f.jsx)("br",{})]})})):""})]}),Object(f.jsxs)("table",{children:[Object(f.jsxs)("th",{children:[Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsx)("b",{children:"Actions"})]}),Object(f.jsx)("tr",{children:t.actions.map((function(e){return Object(f.jsxs)("p",{children:[Object(f.jsxs)("b",{children:[" ",e.name]})," ",e.desc,Object(f.jsx)("br",{})]})}))})]}),Object(f.jsxs)("table",{children:[Object(f.jsxs)("th",{children:[Object(f.jsx)("img",{alt:"",src:"https://media-waterdeep.cursecdn.com/file-attachments/0/579/stat-block-header-bar.svg"}),Object(f.jsx)("b",{children:void 0!==t.legendary_actions?"Legendary Actions":""})]}),Object(f.jsx)("tr",{children:void 0!==t.legendary_actions?t.legendary_actions.map((function(e){return Object(f.jsxs)("p",{children:[Object(f.jsxs)("b",{children:[" ",e.name]})," ",e.desc,Object(f.jsx)("br",{})]})})):""})]})]})})};var L=function(e){return Object(f.jsx)("div",{children:"not a player"!==e.info?Object(f.jsxs)("div",{style:{overflowY:"scroll",overflowX:"hidden",border:"1px solid black",borderRadius:"30px",width:"300px",float:"left",height:"75vh",position:"relative",background:"#F5E5C9",boxShadow:"1px 1px 3px black",marginTop:"30px",textAlign:"center",fontFamily:"font-family: 'Langar', cursive;"},children:[Object(f.jsx)("h1",{children:"nobody"!==e.info?e.info:""}),Object(f.jsx)("img",{className:"playerImage",src:"images/man-profile-cartoon_18591-58482.jpg",alt:"Profile Pic"})]}):""})};var B=function(){var e=c.a.useState({monsterInfo:{},monsterNames:[],currentMonsterName:"not a monster",currentPlayerName:"not a player",windowWidth:window.innerWidth}),t=Object(d.a)(e,2),n=t[0],r=t[1];function a(e){console.log("character name: "+e),n.monsterNames.includes(e)?r((function(t){return Object(o.a)(Object(o.a)({},t),{},{currentPlayerName:"not a player",currentMonsterName:e})})):"Will"===e.substring(0,4)?r((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentPlayerName:"not a player",currentMonsterName:"Will-o'-Wisp"})})):r((function(t){return Object(o.a)(Object(o.a)({},t),{},{currentPlayerName:e,currentMonsterName:"not a monster"})}))}return c.a.useEffect((function(){function e(e){r((function(e){return Object(o.a)(Object(o.a)({},e),{},{windowWidth:window.innerWidth})}))}function t(e){39!==e.keyCode||/INPUT|TEXTAREA|SELECT|BUTTON/.test(e.target.nodeName)||(e.preventDefault(),document.querySelector(".runButton")&&document.querySelector(".runButton").click()),37!==e.keyCode||/INPUT|TEXTAREA|SELECT|BUTTON/.test(e.target.nodeName)||(e.preventDefault(),document.querySelector(".backButton")&&document.querySelector(".backButton").click()),82!==e.keyCode||/INPUT|TEXTAREA|SELECT|BUTTON/.test(e.target.nodeName)||(e.preventDefault(),document.querySelector("#roll").click())}return document.addEventListener("keyup",t),window.addEventListener("resize",e),function(n){document.removeEventListener("keyup",t),window.removeEventListener("resize",e)}})),Object(f.jsxs)("div",{className:" App",children:[Object(f.jsx)(S,{windowWidth:n.windowWidth}),Object(f.jsx)("div",{className:"monsterCard",children:"not a monster"===n.currentMonsterName?Object(f.jsx)(L,{info:n.currentPlayerName}):Object(f.jsx)(E,{info:n.monsterInfo[n.currentMonsterName]})}),Object(f.jsx)(I,{savedMonsterNames:n.monsterNames,windowWidth:n.windowWidth,style:{position:"absolute",right:"0"},renderMonster:a,saveMonsterInfo:function(e){n.monsterNames.includes(e.name)?a(e.name):e.status.isAMonster?r((function(t){return t.monsterInfo[e.name]=e,Object(o.a)(Object(o.a)({},t),{},{monsterInfo:t.monsterInfo,monsterNames:[].concat(Object(i.a)(t.monsterNames),[e.name]),currentMonsterName:e.name,currentPlayerName:"not a player"})})):r((function(t){return Object(o.a)(Object(o.a)({},t),{},{monsterInfo:t.monsterInfo,monsterNames:t.monsterNames,currentMonsterName:"not a monster",currentPlayerName:e.status.characterName})}))},removeMonster:function(e){r((function(e){return Object(o.a)(Object(o.a)({},e),{},{monsterInfo:e.monsterInfo,monsterNames:e.monsterNames,currentMonsterName:"not a monster",currentPlayerName:"not a player"})}))}}),Object(f.jsxs)("div",{className:"RightCol",children:[" ",Object(f.jsx)(T,{windowWidth:n.windowWidth})," "]})]})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(B,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.8dbee9c3.chunk.js.map